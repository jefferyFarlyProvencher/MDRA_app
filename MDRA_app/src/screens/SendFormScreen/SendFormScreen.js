//system imports
import React,{PureComponent} from 'react';
import {View, Text, TouchableOpacity, ActivityIndicator, Animated, StyleSheet, ToastAndroid} from 'react-native';
import { Navigation } from 'react-native-navigation';
import Icon from 'react-native-vector-icons/Ionicons';

//component imports
import PrepareToSend from '../../components/PrepareToSend/PrepareToSend';
import SendForm from '../../components/SendForm/SendForm';
import FormatReceivedData from '../../components/FormatReceivedData/HandleReceivedData';

//redux imports
import {connect} from "react-redux";
import {addToResultList} from "../../store/actions";

let data2 = "0.02009, 0.01952, 0.01891, 0.01832,  0.0188,  0.6709,   3.778,   6.043,   7.756,   9.233,   10.29,   11.19,   11.68,   12.16,   12.45,   12.65,   12.75,   12.84,   12.74,   12.69,   12.66,   12.55,   12.38,   12.14,   11.94,   11.76,   11.56,   11.37,   11.15,   10.92,   10.71,   10.45,   10.17,   9.883,   9.606,   9.334,   9.099,    8.86,   8.609,   8.382,   8.123,   7.882,   7.679,   7.485,     7.3,   7.119,   6.918,   6.706,   6.528,    6.34,   6.157,   5.989,   5.828,   5.686,   5.511,    5.36,   5.214,   5.071,   4.923,   4.784,   4.665,   4.526,   4.395,   4.278,   4.162,   4.053,   3.943,   3.822,   3.719,   3.617,   3.504,   3.393,   3.303,   3.202,   3.114,    3.03,    2.94,   2.846,    2.76,   2.669,    2.59,   2.513,   2.439,   2.367,   2.297,   2.229,   2.165,   2.102,   2.037,   1.977,    1.92,   1.864,   1.811,   1.761,   1.712,   1.663,   1.618,   1.573,   1.528,   1.483,   1.443,   1.399,   1.357,   1.315,   1.274,   1.234,     1.2,   1.164,   1.132,   1.097,   1.065,   1.032,  0.9994,  0.9665,  0.9351,  0.9058,  0.8811,  0.8561,  0.8302,  0.8051,   0.779,  0.7544,  0.7336,  0.7119,  0.6905,  0.6696,  0.6494,  0.6284,  0.6107,  0.5923,  0.5743,  0.5546,   0.535,  0.5167,  0.5019,  0.4887,  0.4758,  0.4599,  0.4466,  0.4338,  0.4208,  0.4063,  0.3945,  0.3834,  0.3726,  0.3621,  0.3506,  0.3393,  0.3302,  0.3204,  0.3108,  0.3014,  0.2923,  0.2835,  0.2753,   0.267,  0.2589,   0.251,  0.2431,  0.2351,  0.2284,  0.2217,  0.2153,  0.2088,  0.2025,  0.1965,  0.1909,  0.1847,  0.1791,  0.1736,  0.1684,  0.1633,  0.1584,  0.1536,   0.149,  0.1449,  0.1411,  0.1372,  0.1334,  0.1298,  0.1263,  0.1226,  0.1188,  0.1151,  0.1115,  0.1081,  0.1045,  0.1011, 0.09834, 0.09529, 0.09234, 0.08948, 0.08692, 0.08444, 0.08204, 0.07952, 0.07721, 0.07497, 0.07276, 0.07043, 0.06817,  0.0662, 0.06436, 0.06257, 0.06083, 0.05914,  0.0575, 0.05586, 0.05424, 0.05267, 0.05114, 0.04966, 0.04822, 0.04682, 0.04546, 0.04414, 0.04281, 0.04147, 0.04017, 0.03892,  0.0377, 0.03652, 0.03538, 0.03438, 0.03335, 0.03232, 0.03132, 0.03034, 0.02936,  0.0284, 0.02746, 0.02658, 0.02575, 0.02494, 0.02416, 0.02341, 0.02268, 0.02197, 0.02128, 0.02066, 0.02009,;\n" +
    " 0.03007, 0.02917, 0.02835, 0.02758, 0.02838,    1.35,   4.803,   7.275,   9.349,   10.96,   12.34,   13.38,   14.22,   14.76,   15.11,   15.35,    15.5,   15.65,   15.63,   15.54,   15.44,   15.25,   15.07,   14.89,   14.65,   14.33,   14.06,   13.86,   13.54,   13.24,   12.93,   12.58,   12.26,   11.94,   11.62,   11.33,   11.01,   10.76,    10.5,   10.18,   9.919,   9.662,   9.411,   9.165,   8.961,   8.697,   8.477,   8.235,   8.016,   7.793,   7.583,   7.388,   7.179,    6.99,   6.806,   6.628,   6.449,    6.26,   6.088,   5.924,   5.753,   5.595,   5.436,   5.286,   5.144,   4.995,   4.849,   4.702,   4.562,   4.436,   4.301,   4.179,    4.07,   3.941,    3.83,   3.714,    3.62,   3.521,   3.423,   3.326,   3.232,    3.14,   3.054,    2.97,   2.884,    2.81,   2.723,   2.646,    2.57,   2.503,   2.429,   2.347,   2.285,   2.222,   2.154,   2.094,    2.03,   1.968,   1.914,   1.866,   1.818,   1.772,   1.723,   1.679,    1.63,   1.582,   1.537,    1.49,   1.444,   1.407,   1.366,   1.326,   1.289,   1.253,    1.22,   1.181,   1.147,   1.114,   1.086,   1.054,   1.023,  0.9979,  0.9692,  0.9414,  0.9146,  0.8875,  0.8642,  0.8406,   0.815,  0.7902,  0.7687,  0.7479,  0.7247,  0.7056,  0.6839,  0.6642,  0.6462,  0.6256,  0.6076,  0.5906,  0.5744,  0.5579,  0.5409,  0.5251,   0.511,  0.4974,  0.4841,  0.4706,  0.4571,   0.444,  0.4313,  0.4189,  0.4069,  0.3949,  0.3839,  0.3729,  0.3624,  0.3518,  0.3415,  0.3313,  0.3224,  0.3132,  0.3042,  0.2955,  0.2871,  0.2787,    0.27,  0.2616,  0.2535,  0.2457,  0.2388,  0.2319,  0.2252,  0.2191,  0.2133,  0.2073,  0.2016,  0.1959,  0.1901,  0.1845,  0.1795,  0.1736,  0.1684,  0.1634,  0.1587,  0.1545,  0.1501,  0.1454,  0.1412,  0.1369,  0.1326,  0.1283,  0.1244,  0.1206,  0.1171,  0.1135,    0.11,  0.1066,  0.1034,  0.1004, 0.09746, 0.09462, 0.09179, 0.08914, 0.08662, 0.08416, 0.08172, 0.07936, 0.07707, 0.07477, 0.07264, 0.07057, 0.06853, 0.06652, 0.06454, 0.06261, 0.06074, 0.05893, 0.05717, 0.05546, 0.05398, 0.05257,  0.0511, 0.04962, 0.04812, 0.04668, 0.04527, 0.04391, 0.04259, 0.04131, 0.04007, 0.03891, 0.03782, 0.03676, 0.03572, 0.03467, 0.03361, 0.03268, 0.03182, 0.03098, 0.03007,;\n" +
    " 0.04133, 0.04021, 0.03912, 0.03806, 0.03986,   1.901,   5.611,   8.565,   10.79,   12.65,   14.13,   15.25,   16.06,   16.77,   17.23,   17.49,   17.68,   17.73,   17.69,    17.6,    17.4,   17.28,   17.04,    16.8,   16.51,    16.2,   15.91,   15.55,   15.24,   14.87,   14.51,   14.17,   13.81,   13.46,   13.13,    12.8,   12.51,   12.19,   11.88,    11.6,   11.31,      11,   10.69,   10.39,   10.14,   9.877,   9.595,   9.312,   9.059,   8.805,   8.602,   8.373,   8.155,   7.929,   7.721,   7.512,   7.315,   7.113,    6.93,    6.73,   6.526,   6.331,   6.157,   5.981,   5.823,   5.648,   5.487,   5.344,   5.208,   5.064,   4.912,   4.784,   4.654,   4.517,   4.379,   4.252,   4.134,   4.024,   3.914,   3.802,   3.693,   3.586,   3.489,   3.388,   3.291,   3.199,   3.117,   3.029,    2.94,   2.859,   2.784,   2.711,   2.639,   2.571,   2.507,   2.444,   2.385,   2.324,   2.254,   2.189,   2.132,   2.071,   2.017,   1.965,   1.913,   1.859,   1.806,   1.754,   1.708,   1.659,   1.614,   1.566,   1.519,   1.474,   1.438,     1.4,   1.358,   1.315,   1.273,   1.235,   1.203,   1.164,   1.132,   1.103,   1.075,   1.046,   1.019,  0.9887,  0.9639,  0.9406,  0.9126,   0.887,  0.8603,  0.8356,  0.8139,  0.7923,  0.7686,  0.7455,  0.7249,  0.7064,  0.6884,   0.669,  0.6477,  0.6301,  0.6129,  0.5963,    0.58,  0.5642,  0.5484,  0.5329,  0.5193,  0.5044,  0.4908,  0.4776,  0.4647,  0.4523,  0.4401,  0.4278,  0.4165,  0.4051,  0.3941,  0.3834,  0.3729,  0.3625,  0.3529,  0.3435,  0.3348,  0.3257,  0.3161,  0.3076,  0.2994,  0.2911,   0.283,  0.2752,  0.2677,  0.2602,  0.2529,  0.2459,  0.2391,  0.2324,   0.226,  0.2197,  0.2136,  0.2077,  0.2019,  0.1963,   0.191,  0.1857,  0.1808,  0.1754,  0.1705,  0.1658,  0.1611,  0.1567,  0.1523,   0.148,   0.144,  0.1401,  0.1363,  0.1325,  0.1287,  0.1251,  0.1212,  0.1177,  0.1142,  0.1109,  0.1077,  0.1045,  0.1018, 0.09909, 0.09611, 0.09341, 0.09087, 0.08839, 0.08599, 0.08364, 0.08137, 0.07903, 0.07657, 0.07417, 0.07187, 0.07009, 0.06831, 0.06634, 0.06442, 0.06256, 0.06086, 0.05922,  0.0575, 0.05594, 0.05428, 0.05262, 0.05112, 0.04969, 0.04842,  0.0472, 0.04602, 0.04486, 0.04367, 0.04248, 0.04133,;\n" +
    " 0.05389,  0.0524, 0.05101, 0.04969, 0.05218,   2.478,   6.492,   9.655,   12.21,   14.18,   15.75,   16.97,   17.92,   18.61,   19.09,   19.37,   19.51,   19.68,   19.62,   19.54,   19.43,   19.27,   19.04,    18.8,   18.46,   18.11,   17.71,   17.35,      17,   16.63,   16.25,   15.89,   15.49,   15.14,   14.77,   14.39,   14.02,   13.66,    13.3,   12.99,   12.64,    12.3,   11.98,   11.68,   11.37,   11.07,   10.76,   10.46,   10.19,   9.917,   9.666,   9.412,   9.171,   8.927,   8.685,   8.459,   8.234,   8.016,   7.801,   7.582,   7.394,   7.202,    7.01,   6.815,   6.642,   6.464,   6.312,   6.152,    5.98,   5.813,   5.646,   5.496,   5.353,   5.207,   5.065,    4.92,   4.783,   4.652,   4.521,   4.404,   4.292,   4.175,   4.061,   3.937,   3.831,   3.737,   3.635,   3.536,   3.433,    3.33,   3.235,   3.148,   3.063,   2.981,   2.899,   2.821,   2.742,   2.669,   2.599,   2.529,    2.46,   2.394,    2.33,   2.267,   2.205,   2.139,   2.086,   2.031,   1.977,   1.924,   1.871,   1.822,   1.773,   1.724,   1.673,   1.629,   1.586,   1.542,   1.501,   1.462,   1.424,   1.384,   1.347,   1.312,   1.276,   1.242,   1.209,   1.174,   1.141,   1.114,   1.084,   1.053,   1.025,  0.9972,  0.9699,  0.9441,  0.9193,   0.895,  0.8693,  0.8439,  0.8223,  0.7994,  0.7765,  0.7554,   0.736,  0.7169,  0.6977,  0.6772,   0.658,   0.639,  0.6212,  0.6042,  0.5876,  0.5721,  0.5574,  0.5431,  0.5293,  0.5162,   0.502,  0.4893,  0.4759,  0.4636,  0.4508,  0.4386,  0.4261,  0.4149,  0.4036,  0.3932,  0.3818,  0.3714,   0.361,  0.3513,  0.3411,  0.3315,  0.3222,  0.3132,   0.305,   0.297,  0.2892,  0.2818,  0.2746,  0.2675,  0.2599,  0.2526,  0.2455,  0.2389,  0.2327,  0.2266,  0.2209,   0.215,  0.2089,  0.2033,  0.1979,  0.1921,  0.1867,  0.1818,   0.177,  0.1718,  0.1666,  0.1625,  0.1581,  0.1542,  0.1504,  0.1465,  0.1424,  0.1384,  0.1349,  0.1311,  0.1275,  0.1238,  0.1203,  0.1171,  0.1144,  0.1117,  0.1088,  0.1058,  0.1029,     0.1, 0.09728, 0.09472, 0.09238,  0.0898, 0.08732, 0.08523, 0.08302, 0.08078,  0.0786, 0.07646, 0.07428, 0.07235, 0.07048, 0.06864, 0.06673, 0.06494, 0.06335,  0.0618, 0.06023, 0.05861, 0.05699, 0.05542, 0.05389,;\n" +
    " 0.06602, 0.06411, 0.06226, 0.06063, 0.06956,   2.918,   7.269,   10.83,   13.64,   16.07,   17.76,    19.1,   20.14,   20.94,   21.41,   21.73,   21.91,    21.9,   21.88,   21.86,   21.75,   21.54,    21.3,   20.96,   20.58,   20.24,   19.88,   19.51,   19.14,    18.7,   18.29,   17.89,   17.42,   16.99,   16.58,   16.19,   15.79,   15.44,   15.06,   14.66,   14.32,   13.92,   13.55,   13.16,    12.8,   12.48,   12.13,    11.8,   11.48,    11.2,   10.88,   10.59,   10.29,   10.03,   9.756,   9.484,   9.227,    8.97,   8.733,   8.502,    8.29,   8.076,   7.858,   7.667,   7.475,   7.263,   7.115,   6.917,   6.721,   6.548,    6.38,   6.211,   6.048,   5.878,   5.712,   5.551,   5.392,   5.242,   5.109,   4.972,   4.839,    4.71,    4.59,   4.471,   4.356,   4.248,   4.129,   4.025,   3.924,   3.825,   3.715,   3.614,   3.516,   3.427,    3.34,   3.258,   3.177,   3.097,   3.016,   2.937,   2.857,   2.781,   2.711,   2.644,   2.576,   2.507,   2.442,   2.379,   2.316,   2.256,   2.197,    2.14,    2.08,   2.027,   1.972,   1.921,   1.868,    1.82,   1.774,   1.728,   1.684,   1.637,   1.592,   1.549,   1.512,   1.473,   1.432,   1.395,   1.355,   1.317,   1.279,   1.242,   1.211,    1.18,   1.151,   1.119,   1.088,   1.056,   1.026,  0.9964,  0.9695,  0.9429,  0.9167,  0.8918,  0.8669,   0.844,  0.8221,  0.8008,  0.7819,  0.7621,  0.7436,  0.7233,  0.7022,  0.6816,  0.6635,  0.6454,  0.6272,  0.6112,  0.5957,  0.5805,  0.5657,  0.5507,  0.5366,  0.5233,  0.5096,   0.497,  0.4847,  0.4716,  0.4588,  0.4465,  0.4349,  0.4235,  0.4127,  0.4017,  0.3906,  0.3796,  0.3702,  0.3614,   0.352,  0.3428,  0.3337,  0.3243,  0.3159,  0.3078,  0.3001,   0.292,  0.2845,  0.2768,  0.2694,  0.2621,  0.2551,  0.2483,   0.242,  0.2351,  0.2288,  0.2226,  0.2166,  0.2108,  0.2052,  0.1997,  0.1947,  0.1899,  0.1852,  0.1803,  0.1755,  0.1707,  0.1661,  0.1621,  0.1578,  0.1533,  0.1491,  0.1454,  0.1417,  0.1377,  0.1339,  0.1301,  0.1265,  0.1227,  0.1193,  0.1161,  0.1129,  0.1097,   0.107,  0.1044,  0.1018, 0.09894, 0.09618, 0.09365, 0.09135, 0.08911, 0.08693,  0.0847, 0.08232, 0.08001, 0.07776, 0.07558, 0.07374, 0.07197, 0.06999, 0.06797, 0.06602,;\n" +
    " 0.08462, 0.08253,  0.0805, 0.07836, 0.09115,   3.435,   8.048,   11.88,      15,   17.48,   19.58,    21.2,   22.38,   23.28,   23.87,    24.3,   24.54,   24.69,   24.65,   24.39,   24.14,   23.94,   23.67,    23.3,   22.88,   22.42,      22,   21.56,    21.1,   20.64,   20.24,   19.82,   19.34,   18.88,   18.42,   17.98,   17.54,   17.07,   16.63,   16.24,   15.83,   15.44,   15.08,    14.7,   14.32,   13.95,   13.59,   13.25,   12.94,   12.63,   12.33,   12.02,   11.69,   11.41,   11.11,   10.81,   10.51,   10.24,   9.996,   9.731,    9.49,   9.232,   8.994,   8.719,   8.496,    8.27,   8.067,    7.84,   7.634,   7.463,   7.263,   7.064,    6.88,   6.694,   6.531,   6.329,   6.174,   6.016,   5.849,   5.692,   5.551,   5.412,   5.268,   5.132,   4.981,   4.843,   4.713,    4.59,    4.47,   4.363,   4.249,    4.14,    4.03,   3.925,   3.822,   3.734,   3.648,   3.554,   3.449,    3.36,   3.269,    3.18,   3.099,   3.019,   2.935,   2.861,   2.782,   2.705,   2.633,   2.564,   2.495,   2.433,   2.372,    2.31,   2.252,   2.193,   2.137,   2.085,   2.035,   1.984,   1.935,   1.886,   1.841,   1.796,    1.75,   1.703,    1.66,    1.62,    1.58,   1.542,   1.504,   1.467,   1.431,   1.393,   1.356,   1.319,   1.284,    1.25,   1.216,   1.183,   1.154,   1.126,   1.098,    1.07,   1.044,   1.017,   0.991,   0.966,  0.9421,  0.9199,  0.8981,  0.8771,  0.8562,  0.8342,  0.8116,  0.7903,  0.7699,  0.7497,  0.7297,   0.712,  0.6938,  0.6759,  0.6589,  0.6423,  0.6251,  0.6084,  0.5922,  0.5777,  0.5618,  0.5466,   0.533,  0.5184,  0.5045,  0.4916,   0.479,  0.4667,  0.4548,  0.4434,  0.4317,  0.4216,  0.4103,  0.3995,  0.3892,  0.3786,  0.3683,  0.3589,  0.3493,  0.3399,  0.3305,  0.3207,  0.3126,  0.3041,  0.2957,  0.2883,  0.2813,  0.2737,  0.2664,  0.2593,  0.2524,  0.2458,  0.2391,   0.233,  0.2269,  0.2209,  0.2149,  0.2092,  0.2036,  0.1982,  0.1929,  0.1877,  0.1829,  0.1781,  0.1733,  0.1692,  0.1645,  0.1605,  0.1565,  0.1527,   0.149,  0.1449,  0.1414,  0.1377,  0.1343,   0.131,  0.1278,  0.1247,  0.1212,  0.1182,  0.1153,  0.1121,   0.109,   0.106,  0.1033,  0.1008, 0.09828, 0.09591, 0.09357, 0.09127, 0.08904, 0.08676, 0.08462,;\n" +
    "  0.1096,  0.1069,  0.1044,  0.1019,  0.1223,    4.07,   9.212,   13.71,   17.16,    19.9,   22.09,   23.78,   25.04,   26.07,   26.81,   27.19,   27.53,   27.55,   27.47,   27.55,    27.4,   27.12,   26.73,   26.28,   25.78,   25.36,   24.94,   24.46,   23.96,   23.43,   22.91,    22.4,   21.88,   21.41,   20.98,   20.46,   19.91,   19.41,   18.94,   18.48,   18.03,   17.59,   17.21,   16.77,   16.39,   15.92,    15.5,   15.12,    14.7,   14.33,   13.94,   13.61,   13.27,   12.93,   12.62,   12.29,   11.94,   11.62,   11.33,   11.07,   10.79,   10.51,   10.24,   9.961,   9.658,   9.393,   9.163,   8.925,   8.682,   8.446,   8.246,   8.057,   7.848,   7.629,   7.434,   7.243,   7.058,   6.878,   6.702,   6.527,   6.363,   6.193,   6.041,   5.886,   5.728,   5.592,   5.447,   5.322,   5.201,   5.072,   4.947,   4.825,   4.696,   4.575,   4.459,   4.347,   4.244,   4.122,   4.015,   3.918,   3.827,   3.731,   3.641,   3.542,   3.449,   3.357,   3.274,   3.182,   3.096,   3.022,   2.945,   2.875,   2.801,   2.726,   2.657,   2.593,   2.533,   2.471,   2.414,   2.362,   2.302,    2.24,   2.179,   2.127,   2.076,   2.022,   1.969,   1.922,   1.877,   1.826,   1.779,   1.736,   1.693,   1.651,   1.612,   1.577,   1.538,   1.499,   1.463,   1.426,    1.39,   1.355,   1.318,   1.282,    1.25,   1.221,   1.191,    1.16,   1.128,   1.096,   1.067,   1.039,   1.014,  0.9887,  0.9644,   0.939,   0.916,  0.8936,  0.8717,  0.8484,   0.827,  0.8055,  0.7845,  0.7639,  0.7473,  0.7284,  0.7096,  0.6912,  0.6733,  0.6568,  0.6398,  0.6233,   0.608,  0.5932,  0.5793,  0.5651,  0.5508,  0.5367,   0.523,  0.5097,  0.4967,   0.484,  0.4717,  0.4597,  0.4482,  0.4369,  0.4253,  0.4145,  0.4039,  0.3936,  0.3835,  0.3747,  0.3659,  0.3562,  0.3468,  0.3376,  0.3286,  0.3206,  0.3125,  0.3044,  0.2969,  0.2899,  0.2827,  0.2757,  0.2689,  0.2623,  0.2558,  0.2495,  0.2434,  0.2375,  0.2315,  0.2257,  0.2202,  0.2147,  0.2094,  0.2046,  0.1999,  0.1952,  0.1903,  0.1855,  0.1806,  0.1758,  0.1714,  0.1673,  0.1632,  0.1592,  0.1554,  0.1516,  0.1479,  0.1443,  0.1408,  0.1374,  0.1341,   0.131,  0.1277,  0.1245,  0.1214,  0.1184,  0.1152,  0.1122,  0.1096,;\n" +
    "  0.1448,  0.1414,  0.1384,  0.1354,  0.1757,   4.841,   10.87,   15.78,   19.76,   23.11,   25.58,   27.39,   28.82,    29.9,   30.78,   31.27,    31.6,    31.8,    31.7,   31.57,   31.24,    30.9,   30.44,   30.02,   29.44,   29.01,   28.47,   27.91,   27.34,   26.74,   26.13,   25.56,   24.98,   24.42,    23.9,   23.35,    22.8,   22.25,   21.72,   21.19,   20.64,    20.2,   19.72,   19.19,   18.76,   18.29,   17.69,   17.29,   16.79,   16.39,   15.94,   15.57,   15.14,   14.71,   14.33,   14.04,   13.72,   13.38,   13.05,    12.7,   12.34,      12,   11.67,   11.37,   11.06,   10.84,   10.63,   10.39,   10.13,   9.859,   9.582,   9.313,   9.077,   8.868,   8.638,   8.432,   8.198,   8.004,   7.797,   7.591,   7.407,   7.229,   7.056,   6.886,   6.721,   6.576,   6.419,   6.269,   6.124,   5.971,   5.822,   5.677,   5.538,   5.422,   5.282,   5.153,   5.029,   4.909,   4.792,   4.665,   4.561,   4.451,   4.332,   4.234,   4.119,    4.01,   3.921,   3.829,   3.731,   3.635,   3.541,    3.45,   3.365,   3.276,    3.19,   3.111,    3.04,   2.968,   2.893,    2.83,   2.758,   2.689,   2.621,   2.554,   2.494,   2.435,   2.366,   2.318,   2.259,   2.201,   2.144,    2.09,   2.036,   1.986,   1.938,   1.891,   1.844,   1.799,   1.758,   1.717,   1.678,   1.636,   1.596,   1.558,   1.521,   1.485,    1.45,   1.416,   1.382,    1.35,   1.316,   1.285,   1.256,   1.225,   1.193,   1.161,   1.129,   1.101,   1.075,   1.049,   1.024,  0.9996,  0.9757,  0.9518,  0.9277,   0.905,  0.8829,  0.8613,  0.8399,  0.8191,   0.798,  0.7774,  0.7574,  0.7383,  0.7202,  0.7026,  0.6867,   0.672,  0.6576,  0.6423,  0.6256,  0.6094,  0.5936,    0.58,  0.5654,   0.552,  0.5392,  0.5267,  0.5145,  0.5025,  0.4904,  0.4783,  0.4664,  0.4555,  0.4436,  0.4326,  0.4219,  0.4115,  0.4013,  0.3913,  0.3823,  0.3728,   0.363,   0.354,  0.3452,  0.3372,  0.3294,  0.3219,  0.3144,  0.3072,  0.3001,  0.2931,  0.2867,  0.2804,  0.2739,  0.2672,  0.2609,  0.2548,  0.2487,  0.2421,  0.2361,    0.23,  0.2248,  0.2194,  0.2141,  0.2089,  0.2038,  0.1988,   0.194,  0.1892,  0.1846,  0.1801,  0.1761,  0.1724,  0.1683,  0.1639,    0.16,  0.1563,  0.1526,  0.1487,  0.1448,;\n" +
    "   0.219,  0.2142,  0.2095,  0.2049,  0.3194,    6.43,   13.23,    19.2,   24.08,   27.99,   31.11,   33.26,   34.81,      36,   36.95,    37.8,   38.08,   37.88,   37.59,    37.6,   37.25,   37.07,   36.69,   36.11,   35.69,   35.25,   34.74,   34.04,   33.22,   32.57,   31.86,   31.14,   30.43,   29.72,   29.03,   28.35,   27.69,   27.11,   26.49,   25.84,   25.23,   24.69,   24.15,   23.59,   23.06,   22.54,   22.02,   21.39,   20.92,    20.4,    19.9,   19.46,   18.94,    18.4,   17.96,   17.52,   17.11,   16.68,   16.29,   15.91,   15.51,   15.08,   14.71,   14.37,   14.06,   13.74,   13.41,   13.08,   12.74,   12.44,    12.1,   11.79,   11.48,   11.22,   10.96,   10.71,   10.47,   10.21,    9.95,   9.691,   9.439,   9.232,   8.985,   8.757,   8.566,   8.369,   8.175,   8.005,   7.793,   7.606,   7.446,   7.266,   7.114,   6.943,   6.758,   6.578,   6.411,   6.273,   6.138,   5.982,   5.829,    5.68,   5.535,   5.394,   5.256,   5.122,   4.986,   4.864,   4.753,   4.646,   4.541,   4.438,   4.338,    4.24,   4.142,   4.034,   3.934,   3.857,    3.78,   3.679,   3.586,   3.512,   3.438,   3.366,   3.282,   3.206,    3.13,   3.055,   2.982,    2.91,   2.841,   2.773,   2.702,    2.64,   2.578,   2.516,   2.466,   2.411,    2.35,   2.291,   2.233,   2.177,   2.128,    2.08,   2.034,    1.99,   1.947,   1.905,   1.862,   1.815,   1.773,   1.732,   1.691,   1.651,   1.611,   1.573,   1.536,   1.499,   1.464,   1.429,   1.395,   1.362,   1.329,   1.299,   1.269,    1.24,   1.215,    1.19,   1.165,   1.139,    1.11,   1.082,   1.054,   1.028,   1.004,  0.9821,  0.9614,  0.9412,  0.9214,   0.902,   0.883,  0.8644,  0.8438,  0.8229,  0.8025,  0.7826,  0.7648,  0.7482,   0.732,  0.7161,  0.7003,  0.6855,  0.6706,  0.6561,  0.6416,  0.6264,  0.6116,  0.5971,   0.583,  0.5692,  0.5573,  0.5468,  0.5365,  0.5233,  0.5105,  0.4979,  0.4857,  0.4746,  0.4641,  0.4525,  0.4412,  0.4304,  0.4212,  0.4122,  0.4034,  0.3948,  0.3863,  0.3781,    0.37,  0.3621,  0.3535,  0.3446,  0.3354,  0.3265,  0.3179,  0.3094,  0.3012,  0.2948,  0.2887,   0.282,  0.2751,  0.2682,  0.2619,  0.2561,  0.2504,  0.2449,  0.2395,  0.2342,   0.229,   0.224,   0.219,;\n" +
    "-1;\n" +
    "49.908615;\n" +
    "94.563408;\n" +
    "68.774406;\n" +
    "null;\n" +
    "null;\n" +
    "null;\n" +
    "null;\n" +
    "null;\n" +
    "null;\n" +
    "0.006000;\n" +
    "0.400000;\n" +
    "0.000000;\n" +
    "0.000000;\n" +
    "0.000000;\n" +
    "0.594000;\n" +
    "0.000000;\n" +
    "0.000000;\n" +
    "0.994000;\n" +
    "0.005000;\n" +
    "0.001000;\n" +
    "0.000000;\n" +
    "38.076477;\n" +
    "0.000000;\n";

class SendFormScreen extends PureComponent{
    state = {
        dataReceived: false,
        modalActivated: false,
    };

    componentWillMount(){
        this.sendRequest();
    }

    sendRequest = async () => {
        this.setState((oldState) =>({
            ...oldState,
            dataReceived: false,
        }));
        let preparedData = PrepareToSend(this.props.state.main);
        let data = await SendForm(preparedData);
        console.log(JSON.stringify(data));
        if(data !== -1) {
            //console.log(JSON.stringify(data));
            this.props.onAddToResultList(data);
            //console.log(JSON.stringify(FormatReceivedData(data)));
            //this.props.onAddToResultList(FormatReceivedData(data));
            this.setState((oldState) =>({
                ...oldState,
                dataReceived: true,
            }));

            if (this.state.dataReceived) {
                ToastAndroid.showWithGravity("Data added to List", 1, ToastAndroid.BOTTOM);
            }
        }
    };

    _handlerOnPress = async () => {
       let message = (!this.state.dataReceived)? "Not Received Yet": "Received!";
        this.props.onAddToResultList(FormatReceivedData(data2));
        ToastAndroid.showWithGravity(message, 1, ToastAndroid.BOTTOM);
    };

    render() {
        return(
            <View style={styles.container}>
                <TouchableOpacity onPress={this._handlerOnPress}>
                    <View>
                    {
                        !this.state.dataReceived
                        ?<ActivityIndicator size={100} color="red" />
                        :<Icon
                            size={200}
                            name="ios-checkmark"
                            color="green"
                            />
                    }
                    {
                        !this.state.modalActivated
                        ?(!this.state.dataReceived)
                            ?<Text>Sending Data to server...</Text>
                            :<Text>Data Received!</Text>
                        :null
                    }
                    </View>
                </TouchableOpacity>
            </View>

        );
    }
}

const styles = StyleSheet.create({
    container: {
        flex:1,
        alignItems: 'center',
        justifyContent: 'center',
        height: '100%'
    }
});

const mapStateToProps = state => {
    return{
        state
    }
};


const mapDispatchToProps = dispatch => {
    return {
        onAddToResultList: (data)=>dispatch(addToResultList(data))
    };
};

export default connect(mapStateToProps,mapDispatchToProps)(SendFormScreen);